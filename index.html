<!-- TODO: Toggles should use sliders https://www.w3schools.com/howto/howto_css_switch.asp -->
<!-- TODO: Is there a way to get a list of all the earths? Maybe query that before startup -->
<!-- TODO: Need to add loading from a document. Does that mean I need multiple pages?  -->
<!-- TODO: Be cool if the lists could be saved  -->
<!-- TODO: Other kinds of sorting  -->
<!-- TODO: Sort by needs a default value  -->
<!-- TODO: The titles should be hyperlinks-->
<!-- TODO: Could stand to be a *bit* prettier  -->
<!-- TODO: Result body should be the summary + characters. Maybe eventually add more granularity in what is shown.-->
<!-- TODO: Hot reloading? during dev works but not for ts because it does not recompile-->
<!-- TODO: Implement ascending vs descending -->
<!-- TODO: Show the name of the character above the results  -->
<!-- TODO: Move the bit where it sets sort order to the results section -->
<!-- TODO: Support for multiple tabs  -->
<!-- TODO: The filters need to trigger a rerender whenever they're changed  add event handlers for "onchange"-->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
    <title>Appearance Sorter</title>
    <link rel="stylesheet" type="text/css" href="./styles.css" />
  </head>
  <body>
    <label class="toggle" for="toggle-dark-mode">
      <input type="checkbox" id="toggle-dark-mode" />
      <span class="slider"></span>
    </label>
    <button id="reset-to-system">System Theme</button>
    <!-- Basically how this should work is screen lets you choose to either open a file or search from online then lets you sort the results -->
    <!-- This would probably be on a different page but basically clicking it would call the fetch script with the data you entered  -->
    <!-- big question is where/how to store the response. Electron is chrome so there should be temp memory-->

    <label for="character-selection">Get Appearances</label>
    <form id="character-search-form">
      <input
        type="search"
        id="character-selection"
        name="character-selection"
        placeholder="Character Name"
        required
      />
      <button type="submit" name="search-submit" id="search-submit" />
      <!--TODO: Probably give it the value and then onfocus behavior that removes the value  -->
      <input
        list="earths"
        id="earth"
        name="universe-select"
        value="(Prime Earth)"
      />
      <datalist id="earths">
        <option value="(Prime Earth)" selected>Prime Earth</option>
        <option value="(New Earth)">New Earth</option>
        <option value="(Earth-One)">Earth-One</option>
        <option value="(Earth-Two)">Earth-Two</option>
      </datalist>
      <!--TODO: Confirm button works -->
      <button type="submit">Submit</button>
    </form>
    <section>
      <h3>Results:</h3>
      <form id="display-style">
        <select name="sort-type" id="sort-type" required>
          <option value="pub-date" selected>Publication Date</option>
          <option value="alphabet">A-Z</option>
        </select>
        <label for="input">Ascending</label>
        <input type="hidden" name="ascending" value="0" />
        <input type="checkbox" name="ascending" id="ascending" />
        <label>Names Only</label>
        <input type="hidden" name="names-only" value="0" />
        <input type="checkbox" name="names-only" id="names-only" value="1" />
      </form>
      <!-- TODO: I don't love having the templates just floating here, there has to be a better way to store them -->
      <template id="template-results-full">
        <details class="result-details">
          <summary class="result-summary">
            <div class="result-title">
              <span class="result-name"></span>
              <span class="result-date"> </span>
            </div>
          </summary>
          <div class="result-body">
            <!--Synopsis goes here-->
          </div>
        </details>
      </template>
      <template id="template-results-partial">
        <div class="result-title">
          <span class="result-name"></span>
          <span class="result-date"> </span>
        </div>
      </template>
      <section id="results">
        <!--This empty div is where the results will go-->
      </section>
    </section>
    <script type="module" src="renderer.js"></script>
  </body>
</html>
