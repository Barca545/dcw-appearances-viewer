<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" type="text/css" href="./styles.css" />
    <link rel="stylesheet" type="text/css" href="./app.css" />
  </head>
  <body>
    <!-- Basically how this should work is screen lets you choose to either open a
    file or search from online then lets you sort the results -->
    <!-- This would probably be on a different page but basically clicking it would call the fetch script with the data you entered  -->
    <!-- big question is where/how to store the response. Electron is chrome so there should be temp memory-->

    <label for="character-selection">Get Appearances</label>
    <form id="character-search-form">
      <input type="search" id="character-selection" name="character-selection" placeholder="Character Name" required autofocus />
      <!--TODO: Probably give it the value and then onfocus behavior that removes the value  -->
      <input list="earths" id="earth" name="universe-select" placeholder="(Prime Earth)" />
      <datalist id="earths">
        <option value="(Prime Earth)">Prime Earth</option>
        <option value="(New Earth)">New Earth</option>
        <option value="(Earth-One)">Earth-One</option>
        <option value="(Earth-Two)">Earth-Two</option>
      </datalist>
      <button type="submit">Submit</button>
    </form>
    <section>
      <h3 id="results-header" class="results-header">Appearances</h3>
      <form id="display-style">
        <select name="sort-type" id="sort-type" required>
          <option value="PUB" selected>Publication Date</option>
          <option value="A-Z">A-Z</option>
        </select>
        <label for="input">Ascending</label>
        <label class="toggle">
          <!-- FIXME: I think this toggle is inverted -->
          <input type="checkbox" name="ascending" id="ascending" value="1" />
          <span class="slider"></span>
        </label>
        <label>Density</label>
        <select name="density" value="density">
          <option name="dense" value="DENSE">Names Only</option>
          <option name="normal" value="NORM" selected>Normal</option>
        </select>
      </form>
      <!-- TODO: I don't love having the templates just floating here, there has to be a better way to store them -->

      <div id="spinner" style="display: none">Loading...</div>
      <template id="template-results-full">
        <details class="result-details">
          <summary class="result-summary">
            <!-- TODO: Could the anchor just be directly around the name? -->
            <div class="result-title">
              <!-- This anchor does nothing -->
              <!-- The logic to handle the click is inserted during its creation in elements.ts-->
              <!-- The anchor is just here to make it visually clear it's a link -->
              <a class="result-url" href="">
                <!-- TODO: Is this span actually neccessary or can I just use the anchor -->
                <span class="result-name"></span>
              </a>
              <span class="result-date"> </span>
            </div>
          </summary>
          <!-- TODO: rename -->
          <div class="result-body">
            <!--Synopsis goes here-->
            Synopsis
          </div>
        </details>
      </template>
      <div id="results-container">
        <!--This empty section is where the results will go-->
        <template id="template-results-partial">
          <div class="result-title">
            <a class="result-url" href=""><span class="result-name"></span></a>
            <span class="result-date"> </span>
          </div>
        </template>
      </div>
    </section>
    <!-- TODO: Should I use defer or something here? -->
    <script type="module" src="app.ts"></script>
  </body>
</html>
